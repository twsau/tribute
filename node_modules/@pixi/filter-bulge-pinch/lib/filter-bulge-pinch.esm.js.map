{"version":3,"file":"filter-bulge-pinch.esm.js","sources":["../src/BulgePinchFilter.js"],"sourcesContent":["import {vertex} from '@tools/fragments';\nimport fragment from './bulgePinch.frag';\nimport {Filter} from '@pixi/core';\n\n/**\n * @author Julien CLEREL @JuloxRox\n * original filter https://github.com/evanw/glfx.js/blob/master/src/filters/warp/bulgepinch.js by Evan Wallace : http://madebyevan.com/\n */\n\n/**\n * Bulges or pinches the image in a circle.<br>\n * ![original](../tools/screenshots/dist/original.png)![filter](../tools/screenshots/dist/bulge-pinch.gif)\n *\n * @class\n * @extends PIXI.Filter\n * @memberof PIXI.filters\n * @see {@link https://www.npmjs.com/package/@pixi/filter-bulge-pinch|@pixi/filter-bulge-pinch}\n * @see {@link https://www.npmjs.com/package/pixi-filters|pixi-filters}\n * @param {object} [options] Options to use for filter.\n * @param {PIXI.Point|Array<number>} [options.center=[0,0]] The x and y coordinates of the center of the circle of effect.\n * @param {number} [options.radius=100] The radius of the circle of effect.\n * @param {number} [options.strength=1] -1 to 1 (-1 is strong pinch, 0 is no effect, 1 is strong bulge)\n */\nclass BulgePinchFilter extends Filter {\n\n    constructor(options) {\n        super(vertex, fragment);\n\n        // @deprecated (center, radius, strength) args\n        if (typeof options !== 'object') {\n            const [center, radius, strength] = arguments;\n            options = {};\n            if (center !== undefined) {\n                options.center = center;\n            }\n            if (radius !== undefined) {\n                options.radius = radius;\n            }\n            if (strength !== undefined) {\n                options.strength = strength;\n            }\n        }\n\n        this.uniforms.dimensions = new Float32Array(2);\n\n        Object.assign(this, {\n            center: [0.5, 0.5],\n            radius: 100,\n            strength: 1,\n        }, options);\n    }\n\n    apply(filterManager, input, output, clear) {\n        this.uniforms.dimensions[0] = input.filterFrame.width;\n        this.uniforms.dimensions[1] = input.filterFrame.height;\n        filterManager.applyFilter(this, input, output, clear);\n    }\n\n    /**\n     * The radius of the circle of effect.\n     *\n     * @member {number}\n     */\n    get radius() {\n        return this.uniforms.radius;\n    }\n    set radius(value) {\n        this.uniforms.radius = value;\n    }\n\n    /**\n     * The strength of the effect. -1 to 1 (-1 is strong pinch, 0 is no effect, 1 is strong bulge)\n     *\n     * @member {number}\n     */\n    get strength() {\n        return this.uniforms.strength;\n    }\n    set strength(value) {\n        this.uniforms.strength = value;\n    }\n\n    /**\n     * The x and y coordinates of the center of the circle of effect.\n     *\n     * @member {PIXI.Point}\n     */\n    get center() {\n        return this.uniforms.center;\n    }\n    set center(value) {\n        this.uniforms.center = value;\n    }\n}\n\nexport { BulgePinchFilter };\n\n"],"names":["super"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAM,gBAAgB;IAElB,yBAAW,CAAC,OAAO,EAAE;QACjBA,WAAK,OAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;;;QAGxB,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC7B;YAAe;YAAQ,4BAAsB;YAC7C,OAAO,GAAG,EAAE,CAAC;YACb,IAAI,MAAM,KAAK,SAAS,EAAE;gBACtB,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;aAC3B;YACD,IAAI,MAAM,KAAK,SAAS,EAAE;gBACtB,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;aAC3B;YACD,IAAI,QAAQ,KAAK,SAAS,EAAE;gBACxB,OAAO,CAAC,QAAQ,GAAG,QAAQ,CAAC;aAC/B;SACJ;;QAED,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;;QAE/C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE;YAChB,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;YAClB,MAAM,EAAE,GAAG;YACX,QAAQ,EAAE,CAAC;SACd,EAAE,OAAO,CAAC,CAAC;;;;;;;gIACf;;+BAED,wBAAM,aAAa,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;QACvC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC;QACvD,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;MACzD;;;;;;;IAOD,mBAAI,yBAAS;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;MAC/B;IACD,mBAAI,uBAAO,KAAK,EAAE;QACd,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;MAChC;;;;;;;IAOD,mBAAI,2BAAW;QACX,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;MACjC;IACD,mBAAI,yBAAS,KAAK,EAAE;QAChB,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC;MAClC;;;;;;;IAOD,mBAAI,yBAAS;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;MAC/B;IACD,mBAAI,uBAAO,KAAK,EAAE;QACd,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;KAChC;;;;;EArE0B;;;;"}